<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

	<script>
		function validate(){
			
			var v1 = document.getElementById("nm").value;
			
			if(v1.length == 0){
				alert("name field can not be blank");
			}
			else{
				if(v1.length<5){
					alert("minimum length of name field must be 5 character");
				}
			}
			
			alert("hello "+v1);
		}
		
		function checkEmail(){
			var v1 = document.getElementById("em").value;
			
			//step 1 how to get XHR inside java script?
				var xhr =	new XMLHttpRequest();
			
			//step 2 how XHR will open connection with backend?
					xhr.open("GET","CheckEmailServlet?myemail="+v1, true);
			
			//step 3 how XHR will send request to backend?
					xhr.send()
					
			//step 4 how XHR will get response from backend?
					xhr.onreadystatechange = function(){
				if(xhr.readyState == 4){
					var response = xhr.responseText;
					//alert(response);
					//step 5 how it will display response?
					document.getElementById("result").innerHTML=response;
				}
			}
			
		}
		
		function captcha(){
			//step 1 how to get XHR inside java script?
			var xhr =	new XMLHttpRequest();
		
		//step 2 how XHR will open connection with backend?
				xhr.open("GET","CaptchaServlet", true);
		
		//step 3 how XHR will send request to backend?
				xhr.send()
				
		//step 4 how XHR will get response from backend?
				xhr.onreadystatechange = function(){
			if(xhr.readyState == 4){
				var response = xhr.responseText;
				//alert(response);
				//step 5 how it will display response?
				document.getElementById("captcharesult").innerHTML=response;
			}
		}
		}
		
		function validatecaptcha(){
			var v1 = document.getElementById("cc").value;
			var v2 = document.getElementById("cc1").value;
			
			if(v1==v2){
				alert ("validated");
				document.getElementById("mybutton").disabled=false;
			}
		}
		
	</script>


</head>
<body>

	<p align=center> <font size=5 color=red><b> Sign Up </b></font></p>
	<div align=center>
		<form action="RegisterServlet" method=post>
		<table border=5 cellpadding=20>
			<tr>
				<td>Name</td>
				<td><input type=text name=nm id=nm required ></td>
			</tr>
			<tr>
				<td>Password</td>
				<td><input type=password name=pass id=pass></td>
			</tr>
			<tr>
				<td>Country</td>
				<td><select id=contry1><option value=india>India</option><option value=us>US</option></select></td>
			</tr>
			<tr>
				<td>Email</td>
				<td><input type=email name=em id=em   onkeyup="checkEmail()"><div id="result"></div></td>
			</tr>
			<tr>
				<td>Address</td>
				<td><input type=text name=ad id=ad onblur="captcha()"></td>
			</tr>
			
			<tr>
				<td><input type=submit onClick="validate()" id="mybutton" disabled></td>
				
				<td><input type=reset></td>
			</tr>
		
		</table>
		<div id="captcharesult"></div>
		</form>
	</div>

</body>
</html>